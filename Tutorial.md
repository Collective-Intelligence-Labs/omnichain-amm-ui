Строим DAO на Omnichain - Бесконечная масштабируемость с помощью CQRS + Event Sourcing + Bitcoin

Итак, мы начинаем реализовывать Omnichain DAO. DAO - которое будет работать на всех сетях одновременно. Т.е. это так же DAO с около-бесконечной масштабируемостью. Что такое окло-бесконечная масштабируемость - вы можете почитать в этой статье и в ссылках внутри нее. [1] https://apiumhub.com/tech-blog-barcelona/almost-infinite-scalability/


Задача: построить DAO для нашего продукта - Союз Миссии - это тип организации вокруг какой-то конкретной Миссии. В этом DAO можно реализовать любые правила и любые структуры, должна она работать на децентрализованной инфраструктуре, чтобы ее нельзя было просто так обнулить, к ней должен быть открытый API вокруг которого кто угодно можно построить свои сервисы и API. Пользоваться ее можно бесплатно, или условно бесплатно. Оплачивать транзакции можно будет Биткоином и любыми фиатными деньгами.

Один из основных условий работы такой организации - это доверие к инфраструктуре от пользователей. Т.е. если мы хотим зарегистрировать нашу организацию и использовать ее как source of truth и верить что все будет работать там как было задумано, и что оно когда-то не ляснется - то эта инфраструктура должна обладать серьезной надежностью. Почему сейчас организации не регистрируют на блокчейне понятно - практически любая юрисдикция надежнее текущих блокчейнов, которые как показала практика могут уйти в небытие после того как их валюта пробивает дно. Дело в том что структура каждого блокчейна это пирамида, и шансы что она пойдет вниз есть всегда. Единственная легитимная крипта это биткоин, потому что человечеству реально нужно было цифровое золото, вот мы его и запустили. Но фишка битка в том что он делиться бесконечно, и юз-кейс как раз в его ограниченности, поэтому все другие криптовалюты уже не могут претендовать на этот юз-кейс. 

## Проективрование

Мы начнем с проектирования доменном модели нашего DAO. DAO - вообще это просто организация, то есть любая структура для взаимодействия людей. DAO значит Decentralized Autonomous Organization, хоть на самом деле она такая же автономная как и любые другие организации. Т.е. есть какая-то инфраструктура на которой она работает, и фактически все равно люди принимают решения. Для реализации DAO на Omnichain мы начнем с самой простой, я бы даже сказал тривиальной версии DAO - это когда все решения принимаются полным консенсусом, и для того чтобы еще больше ее упростить - реализуем версию где решения принимаются когда нету возражений. Период который мы ждем решения от всех участников возьмем дефолтный и захардкодим - 1 сутки - 24 часа. Чтобы добавил члена в DAO нужны голоса всех и согласие самого члена, чтобы удалить - всех кроме одного. Так же чтобы в этом DAO был хоть какой-то смысл, а не просто собрались ради того чтобы собраться, сделаем в нем регламент, который можно редактировать тоже только полным согласием всех членов. Пусть это будет реализовано в виде списка/списка - где нормер - это статья регламента.

Так как мы реализуем проект на CQRS + Event Sourcing [2] архитектуре, мы возьмем процесс Event Modeling для того чтобы задизайнить наш домен. [3] https://eventmodeling.org/posts/what-is-event-modeling/

Вот что у меня получилось на диаграмме.



Начнем с дизайна команды StartUnion = это будет всегда новый союз, для обеспечения идемпотентности команды мы будет указывать ID нового союза заранее;